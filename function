const fs = require('fs');
const util = require('util');
// write data to file, type: append + Sync
const writeAppendFileArray = (file, labels, ...data) => {
    let count = data.length;
    for(let i = 0; i < count; i++) {
        let data_write = labels[i] + '  ' + JSON.stringify(data[i]) + '  ';
        fs.appendFileSync(file, data_write);
    }
    fs.appendFileSync(file, '\r\n');
    // console.log('... File:' + file + ': saved ...');

};
const writeAppendFileRest = (file, ...data) => {
    let count = data.length;
    for(let i = 0; i < count; i++) {
        let data_write = data[i] + ' ';
        if(i == count -1) {
            data_write = JSON.stringify(data[i]) + ' ';
        }
        fs.appendFileSync(file, data_write);
    }
    fs.appendFileSync(file, '\r\n');
};
const writeAppendFileSync = (file, data) => {
    let data_write = JSON.stringify(data);
    fs.appendFileSync(file, data_write);
    fs.appendFileSync(file, '\r\n');
};
// Write data to file, type: append + async
const writeFilePromise = (path, data, options = 'utf8') => {
    return new Promise((resolve, reject) => {
        fs.writeFile(path, data, options, error => {
            if (error) reject(error);
            resolve('File was saved Promise...');
        });
    });
}

// Export module
module.exports.writeAppendFileArray = writeAppendFileArray;
module.exports.writeAppendFileSync = writeAppendFileSync;
module.exports.writeFilePromise = writeFilePromise;
module.exports.writeAppendFileRest = writeAppendFileRest;
